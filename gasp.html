<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GSAP Perfect Scroll Reset</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<style>
    body {
        margin: 0;
        font-family: sans-serif;
        background: #111;
        color: #fff;
        padding-bottom: 200px;
    }

    section {
        height: 100vh;
        padding: 80px;
        border-bottom: 1px solid #222;
    }

    .box {
        width: 220px;
        background: #ffd600;
        color: #000;
        padding: 20px;
        border-radius: 12px;
        font-weight: bold;
        opacity: 0;
        transform: translateY(60px);
    }
</style>

</head>
<body>

<section></section>

<section>
    <div class="box fade-up">Elemen 1</div>
</section>

<section>
    <div class="box fade-up">Elemen 2</div>
</section>

<section>
    <div class="box fade-up">Elemen 3</div>
</section>

<section></section>

<script>
gsap.registerPlugin(ScrollTrigger);

document.querySelectorAll(".fade-up").forEach(el => {

    let anim = gsap.fromTo(el,
        { opacity: 0, y: 60 },
        {
            opacity: 1,
            y: 0,
            duration: 1,
            ease: "power3.out",
            paused: true
        }
    );

    ScrollTrigger.create({
        trigger: el,
        start: "top 85%",
        end: "top 0%",  
        onEnter: () => anim.play(),          // masuk dari bawah → tampil
        onLeaveBack: () => anim.reverse(),   // keluar ke atas → sembunyi lagi
        // ### PERBEDAAN UTAMA ###
        // onLeave (keluar ke bawah) TIDAK digunakan
    });

});
</script>

</body>
</html>
